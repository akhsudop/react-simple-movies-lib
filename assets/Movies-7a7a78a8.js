import{s as f,j as t,a as d,L as j,r as i,b as v}from"./index-715fc7bd.js";const S=f.input`
  width: 350px;
  margin-right: 20px;
`,b=({onSubmit:s})=>t.jsxs("form",{onSubmit:a=>s(a),children:[t.jsx(S,{className:"input",name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies..."}),t.jsx("button",{children:"Search"})]}),g=({movies:s})=>{const a=d();return t.jsx("ul",{children:s.map(({title:n,id:r})=>t.jsx("li",{children:t.jsx(j,{to:`${r}`,state:{from:a},children:n})},r))})},y="394f7f7b9c091369c76717b88c1e71f3",E=()=>{const[s,a]=i.useState([]),[n,r]=v(),c=n.get("name")??"",m=async e=>{try{const h=(await(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${y}&query=${e}&include_adult=false&language=en-US`)).json()).results.map(({title:p,id:x})=>({title:p,id:x}));a(h)}catch(o){console.error(o)}};i.useEffect(()=>{if(c){const e=c.split(" ").join("%20");m(e)}},[n]);const u=e=>{e.preventDefault();const o=e.currentTarget.elements.input.value.trim();r(o!==""?{name:o}:{})};return t.jsxs("main",{children:[t.jsx(b,{onSubmit:u}),n&&t.jsx(g,{movies:s})]})};export{E as default};
